# Part 2: 作业说明 <!-- omit in toc -->

* [1. 摘要](#1-摘要)
* [2. 案例研究描述](#2-案例研究描述)

  * [2.1. 背景](#21-背景)
* [3. 用户需求](#3-用户需求)
* [4. 所需架构](#4-所需架构)
* [5. 作业要求](#5-作业要求)

  * [5.1. 总体任务](#51-总体任务)
  * [5.2. 任务 1：定义用例（8 分）](#52-任务-1定义用例8-分)
  * [5.3. 任务 2：定义架构（20 分）](#53-任务-2定义架构20-分)
  * [5.4. 任务 3：定义行为（12 分）](#54-任务-3定义行为12-分)
* [6. 评分标准](#6-评分标准)
* [7. 资源](#7-资源)

  * [7.1. 关于 C4 模型的信息：](#71-关于-c4-模型的信息)
  * [7.2. 建模工具的信息](#72-建模工具的信息)
* [8. 提交](#8-提交)

## 1. 摘要

本次作业的目标是让你基于一个受现实工业需求启发的案例研究，练习高级架构的结构和行为建模。这些模型将使用 C4 架构表示法进行开发。

## 2. 案例研究描述

### 2.1. 背景

现代企业在高效决策中极度依赖获取和处理高质量数据。其中一个主要问题是，这些数据通常分散在多个来源，使得数据采集变得非常昂贵。例如，在金融领域，有多个数据来源，例如：

* 股市行情推送
* 新闻提供商
* 监管报告
* 宏观经济公告

通常，不同数据的采集机制各不相同。在某些情况下，数据可以下载；在另一些情况下，需要从网页抓取；也有从 PDF 报告中提取的情况；还有通过 API 调用获取的方式。

在本案例中，我们假设你在一家金融机构工作，目标是构建一个平台，从不同的**价格信息源**中摄取数据，然后通过提醒和通知方式提供给客户。

## 3. 用户需求

用户需求清单如下：

* 你需要为一家金融机构设计一个数据服务平台，能够定期摄取、存储并为客户提供来自不同数据源的价格信息。
* 数据源在此为价格推送，可以是历史或实时价格。历史数据通常是简单的文本文件（如 CSV 文件）可供下载。一个例子是 [Yahoo Finance](https://au.finance.yahoo.com/)
* 数据也可能来自其他来源，如澳大利亚证券交易所或模拟市场。
* 通常客户希望避免直接访问数据源，更愿意从金融机构获取。
* 客户可能是交易者、投资者或个人用户。他们希望获得**定制化的价格时间序列**。
* 客户希望价格时间序列以特定**数据格式**提供。例如，一个包含特定频率（如每日、每小时、每分钟价格）的干净时间序列的 Excel 表格。
* 客户还希望能够针对特定**事件**设置提醒/通知。例如，客户可能指定“当股票 A 的价格高于 \$1 时，请提醒我。”
* **只能使用以下四个数据源来摄取价格数据：**

  * [Investing.com](https://www.investing.com)
  * [Stooq.com](https://stooq.com)
  * [Yahoo Finance](https://au.finance.yahoo.com)
  * [Alpha Vantage](https://www.alphavantage.co)

## 4. 所需架构

作为构建解决方案的第一步，你需要设计一个架构，需具备以下优势：

* 必须支持任何类型的价格推送及其不同的数据采集方法。我们假设这些方法可能随时间变化——例如网站 URL 或 API 端点发生变化。
* 必须支持数据的预处理和清洗，以满足客户的数据格式需求。
* 必须支持在特定事件发生时提醒客户。

## 5. 作业要求

### 5.1. 总体任务

在本次作业中，共有 3 个任务：

1. 定义 2–3 个最重要的**用例**，对应案例研究中的需求。
2. 使用 C4 表示法定义两个架构图（**上下文图和容器图**），以支持这些用例。
3. 针对其中一个用例，定义一个**顺序图**，展示容器图中组件的交互过程。

### 5.2. 任务 1：定义用例（8 分）

基于需求分析，定义你认为最重要的用例（**大约 2 或 3 个用例**）。这些用例代表了架构必须支持的高优先级需求。每个用例必须：

* 有一个清晰的名称，并支持一个非常具体的用户功能
* 定义时仅反映用户视角（不依赖技术或实现）

作为用例的替代，你也可以使用**用户故事**来定义最重要的需求。

### 5.3. 任务 2：定义架构（20 分）

为了支持这些用例，你需要制作 2 张架构图：

* **C4 系统上下文级别图**：展示你的系统 + 用户 + 邻近系统。适用于业务相关方、高管和非技术用户。
* **C4 容器级别图**：展示主要的应用/组件，如网页应用、API、数据库。适用于开发者、技术负责人和架构师。

请确保：

* 两张图中的实体名称（组件和关系）保持一致，因为容器图是上下文图的进一步细化。
* 遵循良好的 C4 设计规范。

### 5.4. 任务 3：定义行为（12 分）

针对任务 1 中的某一个用例，创建一个顺序图，说明架构如何支持该用例。请确保：

* 顺序图中每个组件（垂直线）对应 C4 架构中的组件，可为外部组件（来自上下文图）或内部组件（来自容器图）。
* 组件之间的调用必须清晰标注，符合顺序图中的良好设计规范。

## 6. 评分标准

| 评分标准           | 描述                                                                                       |
| -------------- | ---------------------------------------------------------------------------------------- |
| **定义用例（8 分）**  | • 用例是否清晰定义与表达？<br>• 用例是否与应用目标一致？                                                         |
| **定义架构（20 分）** | • 是否遵循良好的 C4 设计规范？<br>• 架构是否对业务用户清晰可解释？<br>• 架构是否可作为开发者的良好实现蓝图？<br>• 架构是否具有灵活性、可变性和可扩展性？ |
| **定义行为（12 分）** | • 组件交互是否按良好的建模规范清晰表达？<br>• 顺序图是否与用例描述一致？<br>• 顺序图是否与架构描述一致？                              |

## 7. 资源

### 7.1. 关于 C4 模型的信息：

* 官网主页: [Home | C4 model](https://c4model.com)
* C4 建模介绍：[用 C4 模型可视化软件架构 - Simon Brown，Agile on the Beach 2019](https://www.youtube.com/watch?v=x2-rSnhpw0g&t=785s)（从第 9 分钟开始观看）

### 7.2. 建模工具的信息

**推荐工具：**

* [Excalidraw — 简易协作白板工具](https://excalidraw.com)
* [Excalidraw & Mermaid 指南](https://cgi.cse.unsw.edu.au/~cs2511/25T2/setup/excalidraw-mermaid)

**替代工具（需经导师批准）：**

* [Draw.io / diagrams.net](https://app.diagrams.net)：最简单的流程图制作工具，支持 C4 图、UML 图和顺序图。
* [PlantUML](https://plantuml.com)：开源工具，使用简单的文本描述生成精美的 UML 图。适合从代码生成图或从图反推代码，但需要学习其语法和 DSL，学习曲线较陡峭。

## 8. 提交

本作业需通过 [Moodle](https://moodle.telt.unsw.edu.au/mod/turnitintooltwo/view.php?id=7987670) 提交。仅需**一名**小组成员提交作业。
